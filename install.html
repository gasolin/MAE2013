<html>
  <body>
    <p>Packaged app installation page</p>
    <script>
      // This URL must be a full url.
      var manifestUrl = 'http://mae.localhost/manifest.webapp';
      // var req = navigator.mozApps.installPackage(manifestUrl);
      // req.onsuccess = function() {
      //   alert(this.result.origin);
      // };
      // req.onerror = function() {
      //   alert(this.error.name);
      // };
      var request = window.navigator.mozApps.install(manifestUrl);
      request.onsuccess = function () {
        // Save the App object that is returned
        var appRecord = this.result;
        alert('Installation successful!');
      };
      request.onerror = function () {
        // Display the error information from the DOMError object
        alert('Install failed, error: ' + this.error.name);
      };
    </script>
  </body>
</html>